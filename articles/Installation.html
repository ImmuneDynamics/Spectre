<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Spectre installation and getting started guide â€¢ Spectre</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Spectre installation and getting started guide">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Spectre</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/basics_guide.html">Spectre basics guide</a></li>
    <li><a class="dropdown-item" href="../articles/data_prep.html">Preparing data for analysis with Spectre</a></li>
    <li><a class="dropdown-item" href="../articles/data_transformation.html">Data transformation</a></li>
    <li><a class="dropdown-item" href="../articles/Installation.html">Spectre installation and getting started guide</a></li>
    <li><a class="dropdown-item" href="../articles/simple_discovery.html">Spectre - simple discovery workflow</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ImmuneDynamics/Spectre/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Spectre installation and getting started guide</h1>
                        <h4 data-toc-skip class="author">Thomas
Ashhurst, Givanna Putri</h4>
            
            <h4 data-toc-skip class="date">2025-09-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ImmuneDynamics/Spectre/blob/master/vignettes/Installation.Rmd" class="external-link"><code>vignettes/Installation.Rmd</code></a></small>
      <div class="d-none name"><code>Installation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="installing-spectre">Installing Spectre<a class="anchor" aria-label="anchor" href="#installing-spectre"></a>
</h2>
<hr>
<p>There two options for using Spectre:</p>
<ul>
<li>
<a href="#install-via-rstudio">Install via RStudio</a>. Here you can
download R and RStudio, and then install the Spectre package within this
framework.</li>
<li>
<a href="#install-via-docker">Install via Docker</a>. Here you can
download a Docker image that contains a pre-compiled installation of R,
RStudio, the Spectre package, and other associated packages. This is a
useful option for reproducible analysis.</li>
</ul>
<p><strong><em>In Spectre v1.1 and above we have removed the package
dependencies <code>rgeos</code> and <code>rgdal</code> as these are no
longer available on CRAN. The package should install fine without these
dependencies, but some spatial functions may not work properly. If
required, one can download the archived packages, unzip them, and then
placed them in the R library location.</em></strong></p>
<p><br></p>
<div class="section level3">
<h3 id="install-via-rstudio">Install via RStudio<a class="anchor" aria-label="anchor" href="#install-via-rstudio"></a>
</h3>
<p>Download and install the <strong>latest version</strong> of <a href="https://cran.r-project.org/" class="external-link">R (from CRAN)</a> and <a href="https://www.rstudio.com/products/rstudio/download/#download" class="external-link">R
Studio</a>.</p>
<p>There are two ways to install Spectre, using <code>pak</code> or
<code>remotes</code> package. You can try installing using
<code>pak</code> first, and if that does not work, you can use the
<code>remotes</code> package. Instructions for both are available
below.</p>
<p><strong><em>Important: If you are unfamiliar with running R code
using Rstudio, please visit our [Basics guide] section
first.</em></strong></p>
<div class="section level4">
<h4 id="using-the-pak-package">Using the pak package<a class="anchor" aria-label="anchor" href="#using-the-pak-package"></a>
</h4>
<p>Run the following R code to install Spectre using the <a href="https://pak.r-lib.org/" class="external-link">pak</a> R package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Installs the package 'pak' if required</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"pak"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># Install the Spectre package</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"immunedynamics/Spectre"</span><span class="op">)</span></span></code></pre></div>
<p>When running the first command to install the <code>pak</code>
package for the first time, it might ask you to select which CRAN mirror
to use. Pick any mirror closest to where you are, enter the number, and
press enter.</p>
<p>When running the second command, Pak will show a list of dependency
packages it has to install before it can install Spectre. The list may
look like the following:</p>
<pre><code>â†’ Will install 52 packages.
â†’ Will update 1 package.
â†’ Will download 49 CRAN packages (68.97 MB), cached: 4 (0 B).
+ ALL                             1.48.0    ğŸ‘·ğŸ¼â€â™‚ï¸
+ car                             3.1-3      â¬‡ (1.52 MB)
+ carData                         3.0-5      â¬‡ (1.83 MB)
+ colorRamps                      2.3.4      â¬‡ (28.21 kB)
+ ConsensusClusterPlus            1.70.0    
+ corrplot                        0.95       â¬‡ (3.83 MB)
+ crosstalk                       1.2.1      â¬‡ (407.91 kB)
+ dendextend                      1.19.0     â¬‡ (5.06 MB)
+ dendsort                        0.3.4      â¬‡ (1.17 MB)
+ Deriv                           4.2.0      â¬‡ (153.06 kB)
+ doBy                            4.7.0      â¬‡ (4.91 MB)
+ DT                              0.33       â¬‡ (1.79 MB)
+ ellipse                         0.5.0      â¬‡ (218.52 kB)
+ emmeans                         1.11.2     â¬‡ (2.23 MB)
+ estimability                    1.5.1      â¬‡ (49.22 kB)
+ FactoMineR                      2.11      ğŸ”§ â¬‡ (3.82 MB)
+ flashClust                      1.01-2    ğŸ”§ â¬‡ (25.21 kB)
+ FlowSOM                         2.14.0    
+ FNN                             1.1.4.1   ğŸ”§ â¬‡ (130.43 kB)
+ ggforce                         0.5.0     ğŸ”§ â¬‡ (2.67 MB)
+ ggnewscale                      0.5.2      â¬‡ (355.68 kB)
+ ggpointdensity                  0.2.0     ğŸ”§ â¬‡ (4.37 MB)
+ ggpubr                          0.6.1      â¬‡ (2.13 MB)
+ ggrepel                         0.9.6     ğŸ”§ â¬‡ (624.15 kB)
+ ggsci                           3.2.0      â¬‡ (2.39 MB)
+ ggsignif                        0.6.4      â¬‡ (603.29 kB)
+ ggthemes                        5.1.0      â¬‡ (448.64 kB)
+ httpuv                          1.6.16    ğŸ”§ â¬‡ (2.78 MB)
+ later                           1.4.2     ğŸ”§ â¬‡ (786.21 kB)
+ lazyeval                        0.2.2     ğŸ”§ â¬‡ (162.22 kB)
+ leaps                           3.2       ğŸ”§ â¬‡ (104.19 kB)
+ MatrixModels                    0.5-4      â¬‡ (409.70 kB)
+ microbenchmark                  1.5.0     ğŸ”§ â¬‡ (72.58 kB)
+ modelr                          0.1.11     â¬‡ (203.70 kB)
+ multcompView                    0.1-10     â¬‡ (114.76 kB)
+ mvtnorm                         1.3-3     ğŸ”§ â¬‡ (1.00 MB)
+ pbkrtest                        0.5.4      â¬‡ (221.05 kB)
+ pheatmap                        1.0.13     â¬‡ (78.22 kB)
+ polyclip                        1.10-7    ğŸ”§ â¬‡ (440.78 kB)
+ polynom                         1.4-1      â¬‡ (402.59 kB)
+ promises                        1.3.3     ğŸ”§ â¬‡ (1.86 MB)
+ quantreg                        6.1       ğŸ”§ â¬‡ (1.55 MB)
+ RcppAnnoy                       0.0.22    ğŸ”§ â¬‡ (1.34 MB)
+ reshape2                        1.4.4     ğŸ”§ â¬‡ (332.09 kB)
+ rstatix                         0.7.2      â¬‡ (615.55 kB)
+ scattermore                     1.2       ğŸ”§ â¬‡ (389.60 kB)
+ scatterplot3d                   0.3-44     â¬‡ (348.86 kB)
+ SparseM                         1.84-2    ğŸ”§ â¬‡ (942.60 kB)
+ Spectre              2.0.0-00 â†’ 1.2.0     ğŸ‘·ğŸ¾â€â™€ï¸ğŸ”§ (GitHub: 9bcdb3b)
+ systemfonts                     1.2.3     ğŸ”§ â¬‡ (7.23 MB)
+ tweenr                          2.0.3     ğŸ”§ â¬‡ (974.49 kB)
+ uwot                            0.2.3     ğŸ”§ â¬‡ (3.90 MB)
+ XML                             3.99-0.18 ğŸ”§ â¬‡ (1.94 MB)

? Do you want to continue (Y/n)</code></pre>
<p>To continue type letter <code>Y</code> and enter.</p>
<p>You should see a progress bar and messages showing the installation
progress. Wait until it finishes.</p>
</div>
<div class="section level4">
<h4 id="using-the-remotes-package">Using the remotes package<a class="anchor" aria-label="anchor" href="#using-the-remotes-package"></a>
</h4>
<p>If you have trouble installing using the <code>pak</code> package
above, you can use <code>remotes</code> package to do the installation
instead.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Installs the package 'remotes' if required</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># Install the Spectre package</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"immunedynamics/Spectre"</span><span class="op">)</span></span></code></pre></div>
<p>R might ask you to update some packages. In general we recommend
updating packages â€“ to do this, enter 1. <em>However, you might wish to
delay this if you are in the middle of an analysis project.</em></p>
<p><img src="images/Tutorial/remotes_1.png"></p>
<p>Some packages may have two different versions, <em>compiled</em> and
<em>not compiled</em>. Rstudio will ask whether you want to install the
version that require compilation.</p>
<p>If you want, then enter <code>Yes</code> so it will download the
version that need to be compiled, compile it, then install. <em>However
this may require extra softwares installed on your computer to run
properly.</em></p>
<p>It is ok to also enter <code>No</code> so it will install the version
that has been precompiled. This is often easier.</p>
<p><strong><em>However</em></strong>, some packages must be compiled on
your computer to run, like so:</p>
<p><img src="images/Tutorial/remotes_2.png"></p>
<p>In this case, we recommend you specify <code>Yes</code> and let the
computer do the compiling.</p>
<p>If the installation was successful, you should see something similar
to the following:</p>
<p><img src="images/Tutorial/remotes_3.png"></p>
</div>
<div class="section level4">
<h4 id="check-that-spectre-is-installed">Check that Spectre is installed<a class="anchor" aria-label="anchor" href="#check-that-spectre-is-installed"></a>
</h4>
<p>To check whether Spectre has been installed successfully, run the
following command:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"Spectre"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Spectre is installed"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Spectre is NOT installed"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: replacing previous import 'scales::viridis_pal' by</span></span>
<span><span class="co">## 'viridis::viridis_pal' when loading 'Spectre'</span></span></code></pre>
<pre><code><span><span class="co">## Spectre is installed</span></span></code></pre>
<p>If you get the message â€œSpectre is installedâ€, then it has
successfully been installed.</p>
<p><br><br></p>
</div>
</div>
<div class="section level3">
<h3 id="install-via-docker">Install via Docker<a class="anchor" aria-label="anchor" href="#install-via-docker"></a>
</h3>
<p>Spectre is available as a Docker container, thanks to the efforts of
Dr. Givanna Putri. Docker is a cloud service that allows anyone to
deliver software packages as a â€œcomplete unitâ€ in a form of container.
What this means is that the software package is released as a standalone
computing environment, pre-installed with necessary pre-requisite
libraries required by the software, and pre-configured for user
convenience. Spectreâ€™s Docker image will match the most recent versions
of Spectre (denoted as â€˜masterâ€™, referring to the master branch in
Github). To download this version, simply follow the instructions below.
If you wish to load a specific version of Spectre, you can specify a
version (e.g. v0.5.3, v0.5.4. etc) instead of using â€˜masterâ€™. You can
see a list of versions available via docker on <a href="https://hub.docker.com/r/immunedynamics/spectre/tags" class="external-link">this
page</a>.</p>
<div class="section level4">
<h4 id="download-docker-app">Download Docker app<a class="anchor" aria-label="anchor" href="#download-docker-app"></a>
</h4>
<p>Go to the following address: <a href="https://www.docker.com/products/docker-desktop" class="external-link uri">https://www.docker.com/products/docker-desktop</a></p>
<p>Download the correct version of Docker Desktop.</p>
<p><img src="images/clipboard-3229987611.png"></p>
<p>Go to your downloads folder and open the â€˜.dmgâ€™ file.</p>
<p><img src="images/clipboard-2467909613.png"></p>
<p>When the following window opens, drag and drop the â€˜Docker.appâ€™ icon
into the â€˜Applicationsâ€™ shortcut.</p>
<p><img src="images/clipboard-3081680616.png"></p>
<p>You should now be able to find â€˜Dockerâ€™ in your applications
folder.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="preferences-optional">Preferences (optional)<a class="anchor" aria-label="anchor" href="#preferences-optional"></a>
</h4>
<p>Open Docker app from the applications folder or bar at the bottom of
the screen.</p>
<p><img src="images/clipboard-1205500608.png"></p>
<p>Once you turn it on, you should see the following icon in the bar at
the top of the screen.</p>
<p><img src="images/clipboard-1529692579.png"></p>
<p>Additionally the program itself should open. Wait a few moments while
the â€˜Docker Engineâ€™ starts.</p>
<p><img src="images/clipboard-543128652.png"></p>
<p>The icon in the lower left will turn green when ready.</p>
<p><img src="images/clipboard-4095703419.png"></p>
<p>Click the gears icon to open â€˜preferencesâ€™. Make sure you untick the
options in General to mimic the screenshot below. This is to ensure
Docker doesnâ€™t start when you boot your computer, and it doesnâ€™t share
your usage data to Docker by default. Leave the automatic update checked
if you prefer it to check for updates regularly.</p>
<p><img src="images/clipboard-391766560.png"></p>
<p>Press â€˜Apply &amp; Restartâ€™ when done. Close app until you would like
to use it.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="launching-docker">Launching Docker<a class="anchor" aria-label="anchor" href="#launching-docker"></a>
</h4>
<p>Open the Docker app.</p>
<p><img src="images/clipboard-1205500608.png"></p>
<p>Wait a few moments while the â€˜Docker Engineâ€™ starts.</p>
<p><img src="images/clipboard-543128652.png"></p>
<p>The icon in the lower left will turn green when ready.</p>
<p><img src="images/clipboard-4095703419.png"></p>
<p>Open â€˜Terminalâ€™ (on Mac, can be found in the applications folder, or
the bar at the bottom of your screen).</p>
<p><img src="images/clipboard-2584547186.png"></p>
<p><img src="images/clipboard-1375122379.png"></p>
<p>Copy the following code into the terminal and press ENTER.</p>
<pre><code>docker run --rm -e PASSWORD=spectre -p 8787:8787 -v ~:/home/rstudio/spectre_dir --name=spectre immunedynamics/spectre:master</code></pre>
<p><img src="images/clipboard-1681374938.png"></p>
<p>By default, the RStudio session that Docker will launch will be able
to see everything in your Home directory and below. This is achieved in
the code above using the â€˜~â€™ symbol. If you have data elsewhere (on a
server etc) you can navigate to that location using Finger and drag +
drop the target directory/folder into terminal:</p>
<p>In terminal, add the following segments, and then hit ENTER:</p>
<ol style="list-style-type: decimal">
<li><code>docker run --rm -e PASSWORD=spectre -p 8787:8787 -v</code></li>
<li>DRAG+DROP the target folder from finder</li>
<li><code>:/home/rstudio/spectre_dir --name=spectre immunedynamics/spectre:master</code></li>
</ol>
<p><br></p>
</div>
<div class="section level4">
<h4 id="initiate-session">Initiate session<a class="anchor" aria-label="anchor" href="#initiate-session"></a>
</h4>
<p>Open your preferred web browser (chrome, safari, etc) and go to the
following address</p>
<p><a href="http://localhost:8787" class="external-link uri">http://localhost:8787</a></p>
<p><img src="images/clipboard-3326316748.png"></p>
<p>Sign in</p>
<ul>
<li>Name: <code>rstudio</code>
</li>
<li>Password: <code>spectre</code>
</li>
</ul>
<p><img src="images/clipboard-1396526383.png"></p>
<p><img src="images/clipboard-632536106.png"></p>
</div>
<div class="section level4">
<h4 id="running-spectre">Running Spectre<a class="anchor" aria-label="anchor" href="#running-spectre"></a>
</h4>
<p>Open desired analysis script</p>
<p><img src="images/clipboard-2021385283.png"></p>
<p><img src="images/clipboard-18088809.png"></p>
<p><img src="images/clipboard-4147688387.png"></p>
<p><img src="images/clipboard-510985867.png"></p>
<p><img src="images/clipboard-4224303551.png"></p>
<p>Perform analysis</p>
<p><img src="images/clipboard-2051505511.png"></p>
<p>Close when finished</p>
<p><img src="images/clipboard-2051505511.png"></p>
<p><img src="images/clipboard-2998598351.png"></p>
<p><br><br></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<hr>
<p>If Spectre or any of the dependencies was not installed successfully,
you may see some error messages like the following.</p>
<p><img src="images/clipboard-2821007311.png"></p>
<p>Alternatively, if Spectre was successfully installed, but when
running <code><a href="../reference/package.check.html">package.check()</a></code> some of the dependencies were not
been installed correctly, you will see something like the following:</p>
<pre><code>Checking dependency packages...
 -- Biobase is required but not installed. Please install from BioConductor.
                
Check out 'https://immunedynamics.github.io/spectre/getting-started/' for help with installation</code></pre>
<p>In this case, try install the offending packages independently. Note
whether the packages need to be installed from CRAN or Bioconductor.
Alternatively, you can <a href="https://github.com/ImmuneDynamics/Spectre/issues" class="external-link">report an issue
on Github</a>, ask for help on our <a href="https://github.com/ImmuneDynamics/Spectre/discussions" class="external-link">discussion
board</a>, or <a href="thomas.ashhurst@sydney.edu.au">email us</a>.</p>
<p><br><br></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Ashhurst, Felix Marsh-Wakefield, Givanna Putri.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
